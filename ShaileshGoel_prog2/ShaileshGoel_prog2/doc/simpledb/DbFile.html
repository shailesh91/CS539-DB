<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_05) on Tue Jan 20 13:27:35 PST 2009 -->
<TITLE>
DbFile
</TITLE>

<META NAME="date" CONTENT="2009-01-20">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DbFile";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../simpledb/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../simpledb/DbException.html" title="class in simpledb"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../simpledb/DbFileIterator.html" title="interface in simpledb"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../index.html?simpledb/DbFile.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DbFile.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
simpledb</FONT>
<BR>
Interface DbFile</H2>
<DL>
<DT><B>All Known Implementing Classes:</B> <DD><A HREF="../simpledb/HeapFile.html" title="class in simpledb">HeapFile</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public interface <B>DbFile</B></DL>
</PRE>

<P>
The interface for database files on disk .
 Database files need to be able to fetch pages and iterate through tuples.
 They may also support sargable predictes for efficient index searches.

 DbFile's are generally access through the buffer pool (rather than
 directly by operators.)
<P>

<P>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.ArrayList&lt;<A HREF="../simpledb/Page.html" title="interface in simpledb">Page</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../simpledb/DbFile.html#addTuple(simpledb.TransactionId, simpledb.Tuple)">addTuple</A></B>(<A HREF="../simpledb/TransactionId.html" title="class in simpledb">TransactionId</A>&nbsp;tid,
         <A HREF="../simpledb/Tuple.html" title="class in simpledb">Tuple</A>&nbsp;t)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds the specified tuple to the file on behalf of transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../simpledb/Page.html" title="interface in simpledb">Page</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../simpledb/DbFile.html#deleteTuple(simpledb.TransactionId, simpledb.Tuple)">deleteTuple</A></B>(<A HREF="../simpledb/TransactionId.html" title="class in simpledb">TransactionId</A>&nbsp;tid,
            <A HREF="../simpledb/Tuple.html" title="class in simpledb">Tuple</A>&nbsp;t)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes the specifed tuple from the file on behalf of the specified
 transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../simpledb/DbFile.html#id()">id</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../simpledb/DbFileIterator.html" title="interface in simpledb">DbFileIterator</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../simpledb/DbFile.html#iterator(simpledb.TransactionId)">iterator</A></B>(<A HREF="../simpledb/TransactionId.html" title="class in simpledb">TransactionId</A>&nbsp;tid)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../simpledb/Page.html" title="interface in simpledb">Page</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../simpledb/DbFile.html#readPage(simpledb.PageId)">readPage</A></B>(<A HREF="../simpledb/PageId.html" title="interface in simpledb">PageId</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Read the specified page from disk.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../simpledb/DbFile.html#writePage(simpledb.Page)">writePage</A></B>(<A HREF="../simpledb/Page.html" title="interface in simpledb">Page</A>&nbsp;p)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Push the specified page to disk.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="readPage(simpledb.PageId)"><!-- --></A><H3>
readPage</H3>
<PRE>
<A HREF="../simpledb/Page.html" title="interface in simpledb">Page</A> <B>readPage</B>(<A HREF="../simpledb/PageId.html" title="interface in simpledb">PageId</A>&nbsp;id)
              throws java.util.NoSuchElementException</PRE>
<DL>
<DD>Read the specified page from disk.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.util.NoSuchElementException</CODE> - if the page does not exist in this file</DL>
</DD>
</DL>
<HR>

<A NAME="writePage(simpledb.Page)"><!-- --></A><H3>
writePage</H3>
<PRE>
void <B>writePage</B>(<A HREF="../simpledb/Page.html" title="interface in simpledb">Page</A>&nbsp;p)
               throws java.io.IOException</PRE>
<DL>
<DD>Push the specified page to disk.
 This page must have been previously read from this file via a call to
 readPage.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - if the write fails</DL>
</DD>
</DL>
<HR>

<A NAME="addTuple(simpledb.TransactionId, simpledb.Tuple)"><!-- --></A><H3>
addTuple</H3>
<PRE>
java.util.ArrayList&lt;<A HREF="../simpledb/Page.html" title="interface in simpledb">Page</A>&gt; <B>addTuple</B>(<A HREF="../simpledb/TransactionId.html" title="class in simpledb">TransactionId</A>&nbsp;tid,
                                   <A HREF="../simpledb/Tuple.html" title="class in simpledb">Tuple</A>&nbsp;t)
                                   throws <A HREF="../simpledb/DbException.html" title="class in simpledb">DbException</A>,
                                          java.io.IOException,
                                          <A HREF="../simpledb/TransactionAbortedException.html" title="class in simpledb">TransactionAbortedException</A></PRE>
<DL>
<DD>Adds the specified tuple to the file on behalf of transaction.
 This method will acquire a lock on the affected pages of the file, and
 may block until the lock can be acquired.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>tid</CODE> - The transaction performing the update<DD><CODE>t</CODE> - The tuple to add.  This tuple will be updated to reflect that
          it is now stored in this file.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../simpledb/DbException.html" title="class in simpledb">DbException</A></CODE> - if the tuple cannot be added
<DD><CODE>java.io.IOException</CODE> - if the needed file can't be read/written
<DD><CODE><A HREF="../simpledb/TransactionAbortedException.html" title="class in simpledb">TransactionAbortedException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="deleteTuple(simpledb.TransactionId, simpledb.Tuple)"><!-- --></A><H3>
deleteTuple</H3>
<PRE>
<A HREF="../simpledb/Page.html" title="interface in simpledb">Page</A> <B>deleteTuple</B>(<A HREF="../simpledb/TransactionId.html" title="class in simpledb">TransactionId</A>&nbsp;tid,
                 <A HREF="../simpledb/Tuple.html" title="class in simpledb">Tuple</A>&nbsp;t)
                 throws <A HREF="../simpledb/DbException.html" title="class in simpledb">DbException</A>,
                        <A HREF="../simpledb/TransactionAbortedException.html" title="class in simpledb">TransactionAbortedException</A></PRE>
<DL>
<DD>Removes the specifed tuple from the file on behalf of the specified
 transaction.
 This method will acquire a lock on the affected pages of the file, and
 may block until the lock can be acquired.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../simpledb/DbException.html" title="class in simpledb">DbException</A></CODE> - if the tuple cannot be deleted or is not a member
   of the file
<DD><CODE><A HREF="../simpledb/TransactionAbortedException.html" title="class in simpledb">TransactionAbortedException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="iterator(simpledb.TransactionId)"><!-- --></A><H3>
iterator</H3>
<PRE>
<A HREF="../simpledb/DbFileIterator.html" title="interface in simpledb">DbFileIterator</A> <B>iterator</B>(<A HREF="../simpledb/TransactionId.html" title="class in simpledb">TransactionId</A>&nbsp;tid)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="id()"><!-- --></A><H3>
id</H3>
<PRE>
int <B>id</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>a table id for this table.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../simpledb/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../simpledb/DbException.html" title="class in simpledb"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../simpledb/DbFileIterator.html" title="interface in simpledb"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../index.html?simpledb/DbFile.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DbFile.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
